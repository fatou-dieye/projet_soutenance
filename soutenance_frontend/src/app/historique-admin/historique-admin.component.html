
<div class="gestion">
<app-sidebarre></app-sidebarre>
<!-- composants/historique-admin.component.html -->
<div class="container">
    <div class="content">
      <div class="table-container">
        <div class="table-header">
          <div class="search-container">
            <!-- Barre de recherche -->
            <i class="fas fa-search search-icon"></i>
            <input
              class="search-input"
              type="text"
              placeholder="Rechercher par action..."
              [(ngModel)]="searchQuery"
              (input)="filterBySearch()"  
            />
            <span *ngIf="selectedDate">Filtrer les historiques pour le {{ selectedDate | date: 'dd/MM/yyyy' }}</span>
          </div>
  
          <!-- Filtre par date -->
          <div class="date-filter-container">
            <input 
              type="date" 
              [(ngModel)]="selectedDate"
              (change)="filterByDate()" 
            />
          </div>
        </div>
  
        <!-- Tableau de l'historique -->
        <table>
          <thead>
            <tr>
              <th>Action</th>
              <th>Date</th>
              <th>Heure</th> <!-- SÃ©paration Date et Heure -->
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let historique of getPagedHistorique()">
              <td>{{ historique.action }}</td>
              <td>{{ historique.date | date: 'shortDate' }}</td>
              <td>{{ historique.date | date: 'HH:mm' }}</td>
            </tr>
          </tbody>
        </table>
  
        <!-- Pagination -->
        <div class="pagination">
          <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1"> <i class="fas fa-chevron-left"></i></button>
          <span class="page-number">{{ currentPage }} / {{ totalPages }}</span>
          <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages"> <i class="fas fa-chevron-right"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>
