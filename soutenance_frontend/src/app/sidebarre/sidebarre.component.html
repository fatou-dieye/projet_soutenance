<!--partie navebarre-->
<div class="navbar">
  <!-- Logo Section -->
  <div class="navbar-logo">
    <span>SETAL DAKAR</span>
  </div>
  
  <!-- Profile Section -->
  <div class="navbar-profile">
    <img *ngIf="currentUser?.photo" [src]="currentUser?.photo" alt="Profile" class="profile-img">
    <div *ngIf="!currentUser?.photo" class="profile-img-placeholder" [style.background-color]="getBackgroundColor()">
      {{ getInitials() }}
    </div>
    <div class="profile-info">
      <span class="profile-name">{{ currentUser?.prenom }} {{ currentUser?.nom }}</span>
      <span class="profile-role">{{ userRole }} <button class="edit-btn triangle-btn" (click)="openPasswordChangeModal()">&#x25BC;</button></span>
    </div>
  </div>
</div>

<!-- Sidebar component -->
<div class="sidebar">
  <div class="sidebar-logo">
    <img src="logosetal.png" alt="SETAL DAKAR" class="logo-img">
  </div>
  
  <div class="sidebar-nav">
    <!-- Liens pour l'administrateur -->
    <ng-container *ngIf="isAdmin">
      <a routerLink="/dasbordadmin" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </a>
      <a routerLink="/gestion-des-signaux" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-bell"></i>
        <span>Gestion des Signaux</span>
      </a>
      <a routerLink="/gestion-personels" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-users"></i>
        <span>Gestion Personnel</span>
      </a>
      <a routerLink="/pointage" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-check-circle"></i>
        <span>Pointage</span>
      </a>
      <a routerLink="/historique-admin" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-history"></i>
        <span>Historique</span>
      </a>
    </ng-container>
    
    <!-- Liens pour l'utilisateur standard -->
    <ng-container *ngIf="!isAdmin">
      <a routerLink="/dashboardutilisateur" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </a>
      <a routerLink="/gestion-des-signeau-citoyen" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-bell"></i>
        <span>Signal</span>
      </a>
      <a routerLink="/historiqueutilisateur" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="fas fa-history"></i>
        <span>Historique</span>
      </a>
    </ng-container>
  </div>
  
  <div class="logout">
    <i class="fas fa-sign-out-alt logout-icon"></i>
    <button class="btn-logout" (click)="logout()">
      DÃ©connecter
    </button>
  </div>
</div>

<app-changement-mots-pass></app-changement-mots-pass>